{"version":3,"file":"js/445.dfef7432.js","mappings":"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","sources":["webpack://frontend/./src/components/WalletView.vue","webpack://frontend/./src/components/AddTransaction.vue","webpack://frontend/./src/components/AddTransaction.vue?28b6","webpack://frontend/./src/components/WalletView.vue?5980"],"sourcesContent":["<template>\n  <div class=\"vertical-center\">\n    <div class=\"container\">\n      <div class=\"col\">\n        <div class=\"item-container\">\n          <div style=\"font-weight:bold; font-size: x-large; margin-bottom: 50px; text-align: center;\">\n            Wallet Details\n          </div>\n          <div style=\"text-align: left;margin-left: 80px;\">\n            <v-container>\n              <v-row>\n                <v-col>\n                  <span :title=\"walletDetails.name\">\n                    Name: {{ walletDetails.name }}\n                  </span>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col>\n                  <span :title=\"walletDetails.balance\">\n                    Balance: {{ walletDetails.balance }}\n                  </span>\n                </v-col>\n              </v-row>\n              <v-row>\n                <v-col>\n                  <span :title=\"formatDate(walletDetails.createdAt)\">\n                    Wallet Created At: {{ formatDate(walletDetails.createdAt) }}\n                  </span>\n                </v-col>\n              </v-row>\n            </v-container>\n          </div>\n          <br />\n          <v-btn variant=\"text\" color=\"deep-purple-accent-4\" @click=\"getTransaction\">\n            See All Transactions\n          </v-btn>\n        </div>\n      </div>\n      <v-divider vertical></v-divider>\n      <div class=\"col\">\n        <div class=\"item-container\">\n          <AddTransaction :walletId=\"walletDetails.id\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AddTransaction from '@/components/AddTransaction.vue';\nimport moment from 'moment';\nimport WalletDataService from \"../services/walletservice\";\n\nexport default {\n    name: \"walletView\",\n    // props: {\n    //   walletDetails: Object\n    // },\n    components: { AddTransaction },\n    data: () => ({\n      walletDetails: {},\n      lastChange: null,\n      timer: null\n    }),\n    methods: {\n      async fetchData() {\n        let walletId = this.$route.params.id\n        WalletDataService.get(walletId)\n          .then(response => {\n            this.walletDetails = response.data;\n          }).catch(e => {\n            console.log(e);\n          }).finally(() => console.log('Call Done'));\n      },\n      formatDate(value) {\n        return moment(value).format(\"MMMM Do YYYY, h:mm:ss a\");\n      },\n      getTransaction(e) {\n        e.preventDefault();\n        this.$router.push({ name: 'transactions', query: { walletId: this.$route.params.id, skip: 0, limit: 10 }});\n      }\n    },\n    created() {\n      let curVal = window.localStorage.getItem(\"walletData\");\n      if (curVal) {\n        this.walletDetails = JSON.parse(curVal);\n        this.timer = setInterval(() => {\n          const newVal = window.localStorage.getItem('walletData');\n          if (newVal !== curVal) {\n            curVal = newVal;\n            // fireEvent, update state, etc\n            // or update data in your component\n            this.walletDetails = JSON.parse(newVal)\n          }\n        }, 1000);\n      } else {\n        this.fetchData();\n      }\n    },\n    beforeUnmount() {\n      if (this.timer) {\n        clearInterval(this.timer)\n      }\n    }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n<style scoped>\n.container {\n  display: flex;\n}\n\n.col {\n  margin: 10px;\n  width: 50%;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.item-container {\n  padding: 5px;\n  margin: 5px;\n  vertical-align: middle;\n}\n\n.vertical-center {\n  width: 100%;\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  -ms-transform: translateY(-50%);\n  transform: translateY(-50%);\n}\n</style>","<template v-slot:actions>\n    <div class=\"hello\" style=\"width:100%\">\n      <v-form fast-fail ref=\"transactionForm\" @submit.prevent>\n        <v-card class=\"mx-auto\" max-width=\"400\" title=\"Make a transaction\">\n          <v-container>\n            <v-sheet class=\"mx-auto\">\n              <v-text-field v-model=\"amount\" label=\"Amount\" :rules=\"amoutRules\"\n                variant=\"underlined\"></v-text-field>\n              <v-text-field v-model=\"description\" label=\"Description for transaction\"\n                variant=\"underlined\"></v-text-field>\n              <v-switch\n                v-model=\"type\"\n                hide-details\n                true-value=\"CREDIT\"\n                false-value=\"DEBIT\"\n                :label=\"`Transaction Type: ${type}`\"\n                ></v-switch>\n            </v-sheet>\n          </v-container>\n          <v-divider></v-divider>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn type=\"submit\" class=\"flex-grow-1\" height=\"48\" variant=\"tonal\" @click.prevent=\"addTransaction\">\n              New Transaction\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-form>\n    </div>\n    <div style=\"margin-top:20px;\">\n      <v-snackbar\n        :timeout=\"2000\"\n        :color=\"snackbarcolor\"\n        variant=\"tonal\"\n        v-model=\"snackbar\"\n        vertical\n      >\n        <div class=\"text-subtitle-1 pb-2\">{{ snackbartitle }}</div>\n        <p>{{ snackbarmessage  }}</p>\n        <template v-slot:actions>\n          <v-btn\n            :color=\"snackbarcolor\"\n            variant=\"text\"\n            @click=\"snackbar = false\"\n          >\n            Close\n          </v-btn>\n        </template>\n      </v-snackbar>\n    </div>\n  </template>\n  \n  <script>\n  import WalletDataService from \"../services/walletservice\";\n  export default {\n    name: 'AddTransaction',\n    props: {\n      walletId: String\n    },\n    data: () => ({\n      snackbar: false,\n      snackbartitle: '',\n      snackbarcolor: 'success',\n      snackbarmessage: '',\n      description: '',\n      amount: null,\n      amoutRules: [\n        value => /^\\d+(\\.\\d+)?$/.test(value) || 'Amount balance can only contain digit and dot',\n        value => (value && value.toString().split('.').length < 2) || (value && value.toString().split('.')[1].length <= 4) || 'No more than 4 digits after the decimal point'\n      ],\n      type: 'CREDIT'\n    }),\n    methods: {\n      async addTransaction() {\n        let loader = this.$loading.show({\n          container: null,\n          loader: 'dots'\n        });\n        if (!this.amount || isNaN(this.amount)) return alert(\"Please proivde a wallet name\")\n        let postData = {\n          amount: this.amount,\n          type: this.type,\n          description: this.description\n        };\n        setTimeout(() => WalletDataService.createtransaction(this.walletId, postData)\n        .then(response => {\n          this.snackbartitle = \"Transaction is succesfull.\";\n          this.snackbarmessage = `Updated wallet balance is ${response.data.balance}.`;\n          this.snackbarcolor = 'success';\n          this.snackbar = true;\n          const walletData = JSON.parse(window.localStorage.getItem('walletData'));\n          walletData.balance = response.data.balance\n          localStorage.setItem(\"walletData\", JSON.stringify(walletData));\n          this.$refs.transactionForm.reset();\n          loader.hide()\n        })\n        .catch(e => {\n          let errorMessage = e;\n          if (e.request && e.request.response) {\n            try {\n              let errorData = JSON.parse(e.request.response);\n              errorMessage = errorData.error\n            } catch (error) {\n              errorMessage = e.request.response\n            }\n          }\n          this.snackbartitle = \"Error Occured\";\n          this.snackbarmessage = errorMessage;\n          this.snackbarcolor = 'red'\n          this.snackbar = true;\n          loader.hide()\n        }), 2000)\n      }\n    }\n  }\n  </script>\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n  h3 {\n    margin: 40px 0 0;\n  }\n  \n  ul {\n    list-style-type: none;\n    padding: 0;\n  }\n  \n  li {\n    display: inline-block;\n    margin: 0 10px;\n  }\n  \n  a {\n    color: #42b983;\n  }\n  </style>\n  ","import { render } from \"./AddTransaction.vue?vue&type=template&id=7e5c3234&scoped=true\"\nimport script from \"./AddTransaction.vue?vue&type=script&lang=js\"\nexport * from \"./AddTransaction.vue?vue&type=script&lang=js\"\n\nimport \"./AddTransaction.vue?vue&type=style&index=0&id=7e5c3234&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/navalkumawat/Projects/mydigiwallet/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7e5c3234\"]])\n\nexport default __exports__","import { render } from \"./WalletView.vue?vue&type=template&id=41c9d3a4&scoped=true\"\nimport script from \"./WalletView.vue?vue&type=script&lang=js\"\nexport * from \"./WalletView.vue?vue&type=script&lang=js\"\n\nimport \"./WalletView.vue?vue&type=style&index=0&id=41c9d3a4&lang=css\"\nimport \"./WalletView.vue?vue&type=style&index=1&id=41c9d3a4&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/navalkumawat/Projects/mydigiwallet/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-41c9d3a4\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createVNode","_component_v_container","_component_v_row","_component_v_col","title","_ctx","walletDetails","name","_toDisplayString","_hoisted_7","balance","_hoisted_8","$options","formatDate","createdAt","_hoisted_9","_hoisted_10","_component_v_btn","variant","color","onClick","getTransaction","_component_v_divider","vertical","_hoisted_11","_hoisted_12","_component_AddTransaction","walletId","id","_component_v_form","ref","onSubmit","_cache","_withModifiers","_component_v_card","_component_v_sheet","_component_v_text_field","amount","$event","label","rules","amoutRules","description","_component_v_switch","type","_component_v_card_actions","_component_v_spacer","height","addTransaction","_component_v_snackbar","timeout","snackbarcolor","snackbar","actions","_withCtx","snackbartitle","snackbarmessage","props","String","data","value","test","toString","split","length","methods","async","loader","this","$loading","show","container","isNaN","alert","postData","setTimeout","WalletDataService","then","response","walletData","JSON","parse","window","localStorage","getItem","setItem","stringify","$refs","transactionForm","reset","hide","catch","e","errorMessage","request","errorData","error","__exports__","components","AddTransaction","lastChange","timer","$route","params","console","log","finally","moment","format","preventDefault","$router","push","query","skip","limit","created","curVal","setInterval","newVal","fetchData","beforeUnmount","clearInterval","render"],"sourceRoot":""}